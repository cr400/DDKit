<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    var MyArray = function () {

    };

    MyArray.prototype = new Array();
    MyArray.prototype.constructor = MyArray;

    var mine = new MyArray();
    mine.push(1, 2, 3);

    alert(mine.length);
    alert(mine instanceof Array);

    function getDefiningObject(obj, propKey) {
        while (obj && !{}.hasOwnProperty.call(obj, propKey)) {
            obj = Object.getPrototypeOf(obj);
        }
        return obj;
    }

    function P() {

    }

    P.prototype.constructor === P

    var p = new P();
    p.constructor === P.prototype.constructor

    p.hasOwnProperty('constructor')


    function Constr() {

    }
    var x = new Constr();

    var y = new x.constructor();
    y instanceof Constr


    c.prototype.method1 = function () {

    }


    function Foo() {

    }
    var f = new Foo();
    f.constructor.name

    v instanceof Vehicle
    Vehicle.prototype.isPrototypeOf(v)

    var d = new Date();
    d instanceof Date
    d instanceof Object

    function Fubar(foo, bar) {
        if (this instanceof Fubar) {
            this._foo = foo;
            this._bar = bar;
        } else {
            return new Fubar(foo,bar);
        }
    }

    Object.getPrototypeOf({}) === Object.prototype;

    function f() {

    }

    Object.getPrototypeOf(f) === Function.prototype;

    var f = new F();
    Object.getPrototypeOf(f) === F.prototype;

    var a = {x : 1};
    var b = Object.setPropertyOf({},a);

    console.log(b.x);


    var F = function () {
        this.foo = 'bar';
    };

    var f = new Foo();

    //等同于
    var f = Object.setPropertyOf({}, F.prototype);
    F.call(f);

</script>
</body>
</html>