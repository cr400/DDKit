<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>

    var o = new Object();
    o.valueOf = function () {
        return 2;
    };

    1 + o

    var o1 = new Object();
console.log(o1.toString());

    var o2 = {a:1};
    console.log(o2.toString());

    var o = new Object();

    o.toString = function () {
      return 'hello';
    };

   var b = o + ' ' + 'World';
    console.log(b);


    console.log([1,2,3].toString())

    console.log('123'.toString())

    console.log((function () {
        return 123;
    }).toString())



    console.log(Object.prototype.toString.call(2))
    console.log(Object.prototype.toString.call(''))
    console.log(Object.prototype.toString.call(true))
    console.log(Object.prototype.toString.call(undefined))
    console.log(Object.prototype.toString.call(null))
    console.log(Object.prototype.toString.call(Math))
    console.log(Object.prototype.toString.call({}))
    console.log(Object.prototype.toString.call([]))


    var type = function (o) {
      var s =  Object.prototype.toString.call(o);
        return s.match(/\[object (.*?)\]/)[1].toLocaleLowerCase();
    };


    console.log('-----------------------');
    console.log(type({}));
    console.log(type([]));
    console.log(type(5));
    console.log(type(null));
    console.log(type());
    console.log(type(/abcd/));
    console.log(type(new Date()));



    ['Null',
        'Undefined',
        'Object',
        'Array',
        'String',
        'Number',
        'Boolean',
        'Function',
        'RegExp',
        'NaN',
        'Infinite'
    ].forEach(function (t) {
        type['is' + t] = function (o) {
            return type(o)  === t.toLocaleLowerCase();
        };
    });

   console.log(type.isObject({}))
    console.log(type.isNumber(NaN))
    console.log(type.isRegExp(/abc/))
    
    var add = new Function (
      'x',
      'y',
      'return (x + y)'
    );
    
    function add(x , y) {
        return (x + y);
    }

    var foo = new Function(
            'return "Hello world"'
    );

    function foo() {
      return 'hello world';
    };


    function f() {
        console.log(1);
    }
    f()


    function f() {
        console.log(2);
    }

    f()

    function fib(num) {
        if (num > 2) {
            return fib (num - 2) + fib(num - 1);
        } else {
            return 1;
        }
    }

    fib(6)

    function add(x,y) {
        return x + y;
    }

    var operator = add;
    function a(op) {
        return op;
    }

   console.log(a(add)(1,1));

    function f1() {

    };
    console.log(f1.name)

    var f2 = function () {

    };

    console.log(f2.name)

    var f3 = function myName() {

    };

    console.log(f3.name)

    var multiline = function (fn) {
      var arr = fn.toString().split('\n');
        return arr.slice(1, arr.length - 1).join('\n');
    };

    function f() {/*
       这是一个
       多行注释
    */}

    console.log(multiline(f.toString()));


    var v = 1;
    function f() {
        var v = 2;
        console.log(v);
    }

    f();
    console.log('vvvvv'+ v);


    if (true) {
        var x = 5;
    }

    console.log(x);


    var a = 1;
    var xx = function () {
      console.log('1' + a);
    };

    function f() {
      var a = 2;
        xx();
    };

    f();
    console.log('-----------------------');


   console.log((new Date()).toString())




    var obj = {
      m1: function f() {

      },
       m2: function () {

       }
    };
    console.log(obj.m1.name);
    console.log(obj.m2.name);

    console.log(eval('{foo: 123}'));
    console.log(eval('({foo: 123})'));

    var o = {
      key1: 1,
      key2: 2
    };

    console.log(Object.keys(o));


    delete  o.p;

    var o = Object.defineProperty({}, 'p',{
        value: 123,
        configurable: false
    });

    //name 是Person 本身的属性
    function Person(name) {
        this.name = name;
    }

    //describe是Person.prototype的属性
    Person.prototype.describe = function () {
      return 'Name: ' + this.name;
    };
    var person = new Person('Jane');

    //for...in 循环会遍历实例自身的属性(name),
    //以及继承的属性(describe)
    for (var  key in person) {
        console.log(key);
        if (person.hasOwnProperty(key)) {
            console.log(key);
        }
    }


    with (o) {
        p1 = 1;
        p2 = 2;
    }

    var o = {};
    with (o) {
        x = "abc";
    }

    o.x
    x


//   var temp = o1.o2.o3;
//    console.log(temp.p1 + temp.p2);


    Object.prototype.print = function () {
        console.log(this);
    }

    var o = new Object();
    o.print()


    Object.print = function (o) {
      console.log(0)
    };

    var o = new Object();
    Object.print(o)


    function isObject(value) {
        return value === Object(value);
    }
    isObject([]);
    isObject(true);

    var o = {
        p1: 123,
        p2: 456
    };

    Object.keys(o)
    Object.getOwnPropertyNames(o)


    var a = ["Hello", "World"];

   console.log(Object.keys(a));

   console.log(Object.getOwnPropertyNames(a));


</script>
</body>
</html>