<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    var o = {a: 1, b: 2};

    o.c = 3;
    Object.defineProperty(o, 'd', {
        value:4,
        enumerable: false
    });

    o.d = 4;
    for (var key in o) {
        console.log(o[key]);
    }

    console.log(o.d);

    console.log(Object.keys(o));
    console.log(JSON.stringify(o));


    setTimeout(function () {
        console.log(1);
    }, 0);
    console.log(2);


    var Vehicle = function () {
      this.price = 1000;
    };

    var v = new Vehicle();
    console.log(v.price);


    var Vehicle = function (p) {
      this.price = p;
    };

    var v = new Vehicle(500);

    var v = new Vehicle();
    var v = new Vehicle;


    var Vehicle = function () {
      this.price = 1000;
    };

    function Fubar(foo, bar) {
        'use strict';
        this._foo = foo;
        this._bar = bar;
    }

    function Fubar(foo, bar) {
        if (!(this instanceof Fubar)) {
            return new Fubar(foo, bar);
        }

        this._foo = foo;
        this._bar = bar;
    }

   console.log(Fubar(1, 2)._foo);
    (new Fubar(1, 2))._foo


    var Vehicle = function () {
      this.price = 1000;
        return 1000;
    };

    var Vehicle = function () {
        this.price = 1000;
        return {price: 2000};
    };

    (new Vehicle()).price


    function getMessage() {
        return 'this is a message';
    }

    var msg = new getMessage();

    typeof msg



    function _new(/* 构造函数*/constructor,/* 构造函数参数*/ param1) {
        // 将 arguements 对象转为数组
        var args = [].slice.call(arguments);
        // 取出构造函数
        var  contstructor = args.shift();
        // 创建一个空对象, 继承构造函数的 prototype 属性
        var  context = Object.create(contstructor.prototype);
        // 执行构造函数
        var result = constructor.apply(context, arg);
        // 如果返回结果是对象,就直接返回,则返回 context 对象
        return (typeof result === 'object' && result != null) ? result : context;
    }

    //实例
    var actor = _new(Person,'张三',28);

    alert(Object.getOwnPropertyNames(Date));
    Object.keys(Date)

    var o1 = {p1 : 123};
    var o2 = Object.create(o1, {
        p2: {value: "abc", enumerable: true}
    });

    for (p in o2) {
        console.info(p);
    }

    function inheritedPropertyNames(obj) {
        var props = {};
        while (obj) {
            Object.getOwnPropertyNames(obj).forEach(function (p) {
               props[p] = true;
            });
            obj = Object.getPrototypeOf(obj);
        }
        return Object.getOwnPropertyNames(props);
    }


    function copyObject(orig) {
        var copy = Object.create(Object.getPrototypeOf(orig));
        copyOwnPropertiesFrom(copy, orig);
        return  copy;
    }

    function copyOwnPropertiesFrom(target, source) {
        Object.getOwnPropertyNames(source).forEach(function (propKey) {
           var desc = Object.getOwnPropertyDescriptor(source, propKey);
            Object.defineProperty(target, propKey, desc);
        });
        return target;
    }

    //继承
    function Sub(value) {
        Super.call(this);
        this.prop = value;
    }
    //继承
    Sub.prototype = Object.create(Super.prototype);
    Sub.prototype.constructor = Sub;
    Sub.prototype.method = '...';

    function Shape() {
        this.x = 0;
        this.y = 0;
    }

    Shape.prototype.move = function (x, y) {
      this.x += x;
      this.y += y;
        console.info('Shape moved');
    };


    //第一步,子类继承父类的实例
    function Rectangle() {
        Shape.call(this); //调用父类构造函数
    }

    //另一种写法
    function Rectangle() {
        this.base = Shape;
        this.base();
    }


    //第二步,子类继承父类的原型
    Rectangle.prototype = Object.create(Shape.prototype);
    Rectangle.prototype.constructor = Rectangle;

    ClassB.prototype.print = function () {
        ClassA.prototype.print.call(this);
    }


    function M1() {
        this.hello = 'hello';
    }

    function M2() {
        this.world = 'world';
    }

    function S() {
        M1.call(this);
        M2.call(this);
    }

    S.prototype = M1.prototype;

    var s = new S();

    s.hello;
    s.world;


    var module1 = new Object({
       _count : 0,
        m1 : function () {

        },
        m2: function () {

        }
    });


    module1.m1();


   function StringBuilder() {
       this._buffer = [];
   }


    StringBuilder.prototype = {

    }


    var module1 = (function (mod) {
        mod.m3 = function () {

        };
        return mod;
    })(window.module1 || {})


    (function ($, window, document) {
        function go(num) {

        }

        function handleEvents() {

        }

        function initialize() {

        }

        function dieCarouselDie() {

        }

        // attach to the global scope
        window.finalCarousel = {
            init: initialize;
            destory : dieCouraseDie
        }
    })(jQuery, window, document);



    function Animal(name) {
        this.name = name;
    }

    Animal.prototype.color = 'white';

    var cat1 = new Animal('打磨啊');
    var cat2 = new Anima('二妈');



    Animal.prototype.walk = function () {
        console.log(this.name + ' is walking');
    };


    Object.getPrototypeOf(Object.prototype);

</script>
</body>
</html>